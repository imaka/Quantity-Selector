<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/bootstrap.css">
    <style>
        body {
            padding-top: 50px;
            padding-bottom: 20px;
        }
    </style>
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Tirrit sandbox</a>
            </div>
        </div>
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
        <div class="container">
            <h1>Quantity selector demo</h1>
            <p>This is a template for a simple quantity selector demo and how to prevent DDoS attacks. Though real prevention actions should be taken on a sysadmin perspective (so Demandware's cloud) we can apply some really simple techniques to prevent unnecesary calls to server.</p>
        </div>
    </div>

    <div class="container selectors">
        <!-- Example row of columns -->
        <div class="row">
            <h4>This is a regular selector for pdp: no server calls, no special actions taken</h4>
            <div class='qty-selector 0'>
            </div>
        </div>
        <hr>
        <p>For the shopping bag, we can increase the numer as in pdp and then call the server, while the server is not coming back we disable the buttons, even for a longer time, all configurable...</p>
        <hr>
        <div class="row">

            <h4>This is a selector for shopping bag: calls server so it has a 'cooldown' <span class="label label-info">1500ms</span></h4>
            <div class='qty-selector 1500'>
            </div>
        </div>
        <hr>
        <div class="row">

            <h4>A more appropiate time given our current response time... <span class="label label-info">900ms</span></h4>
            <div class='qty-selector 900'>
            </div>
        </div>
        <hr>

        <pre style='display:none;'>This is doing a server call</pre>

        <footer>
            <p>&copy; Diego 2015</p>
        </footer>
    </div>
    <!-- /container -->
    <script src="js/vendor/jquery-1.11.2.min.js"></script>

    <script src="js/vendor/bootstrap.min.js"></script>

    <!--        <script src="js/main.js"></script>-->
    <script src="js/jquery.qty-selector.js"></script>

    <script>
        //we invoke the method over the container 
        $('.1500').qtySelector({
            onChange: function (currenValue, spinner) {
                spinner.disable();
                $('pre').show(200);
                setTimeout(function(){
                    //let's pretend we are doing something here... 
                    //and when we finish we call:
                    spinner.enable();
                    $('pre').hide();
                }, 1500);
                //do your thing!
            }
        });
        
        $('.900').qtySelector({
            onChange: function (currenValue, spinner) {
                spinner.disable();
                $('pre').show(200);
                setTimeout(function(){
                    //let's pretend we are doing something here... 
                    //and when we finish we call:
                    spinner.enable();
                    $('pre').hide();
                }, 900);
                //do your thing!
            }
        });

        $('.0').qtySelector();
    </script>
</body>

</html>